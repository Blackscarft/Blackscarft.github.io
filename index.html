<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      content="Website undangan pernikahan online"
      name="undangan digital"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- Font Awesome solid -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <!-- AOS css -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <title>Rais X Mala</title>
  </head>
  <body>
    <div id="top">
      <div id="heading" class="d-flex">
        <div class="card-img-overlay d-flex">
          <div class="my-auto mx-auto text-center text-white lh-1">
            <object data="separator/1.svg" width="200"></object>
            <h6 class="mb-5">WE ARE GETTING MARRIED</h6>
            <h1 class="my-3">Rais & Mala</h1>
            <h6>27 Maret 2020</h6>
            <object
              data="separator/1.svg"
              width="200"
              style="transform: scaleY(-1)"
            ></object>
            <br>
             <!-- Button code -->
             <div title="Add to Calendar" class="addeventatc mt-5">
              Add to Calendar
              <span class="start">03/27/2022 09:00 AM</span>
              <span class="end">03/27/2022 11:00 AM</span>
              <span class="timezone">Indonesia/Jakarta</span>
              <span class="title">Pernikahan Rais & Mala</span>
              <span class="description">Acara resepsi penikahan Rais & Mala</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="mempelai" class="p-5">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center mt-5">
            <h6 class="text-white">Tentang Kami</h6>
            <h2 class="mt-3 text-white">Pasangan Mempelai</h2>
          </div>
        </div>

        <div class="row">
          <div
            class="col-12 col-md-5 text-center mt-5 bg-white p-5 rounded-3 card_top"
          >
            <img
              class="img-fluid"
              src="https://dummyimage.com/300x300/c7c7c7/fff.jpg"
              alt="mempelai lelaki"
            />
            <h3 class="mt-3 mempelai-nama">Muhammad Rais Azizi</h3>
            <p class="text-muted">Putra pertama dari </h6>
            <p class="fst-italic">Bapak Taufik Agus Supriyadi & Ibu Sri Lestari</p>
          </div>
          <div
            class="col-12 col-md-5 offset-md-2 text-center mt-5 bg-white p-5 rounded-3 card_top"
          >
            <img
              class="img-fluid"
              src="https://dummyimage.com/300x300/c7c7c7/fff.jpg"
              alt="mempelai lelaki"
            />
            <h3 class="mt-3 mempelai-nama">Aunur Kumala</h3>
            <p class="text-muted">Putri ketiga dari</p>
            <p class="fst-italic">Bapak Thoyib Wagimin (Alm) & Ibu Dalmiyati</p>
          </div>
        </div>

        <span class="d-flex justify-content-center">
          <object data="separator/3.svg" width="400"></object>
        </span>

        <div class="row mb-5">
          <div class="col-12 text-center">
            <h1 class="text-white mempelai-judul-galeri">We love each other</h1>
          </div>
        </div>

        <div class="row gy-3">
          <div class="col-12 col-md-4">
            <img
              src="https://images.unsplash.com/photo-1532465989240-a53112c31aba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3227c91f71facd3a64e91cb7e346cb17&auto=format&fit=crop&w=1450&q=50&h=825"
              class="img-fluid rounded-3"
            />
          </div>
          <div class="col-12 col-md-4">
            <img
              src="https://images.unsplash.com/photo-1532465989240-a53112c31aba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3227c91f71facd3a64e91cb7e346cb17&auto=format&fit=crop&w=1450&q=50&h=825"
              class="img-fluid rounded-3"
            />
          </div>
          <div class="col-12 col-md-4">
            <img
              src="https://images.unsplash.com/photo-1532465989240-a53112c31aba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3227c91f71facd3a64e91cb7e346cb17&auto=format&fit=crop&w=1450&q=50&h=825"
              class="img-fluid rounded-3"
            />
          </div>
          <div class="col-12 col-md-4">
            <img
              src="https://images.unsplash.com/photo-1532465989240-a53112c31aba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3227c91f71facd3a64e91cb7e346cb17&auto=format&fit=crop&w=1450&q=50&h=825"
              class="img-fluid rounded-3"
            />
          </div>
          <div class="col-12 col-md-4">
            <img
              src="https://images.unsplash.com/photo-1532465989240-a53112c31aba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3227c91f71facd3a64e91cb7e346cb17&auto=format&fit=crop&w=1450&q=50&h=825"
              class="img-fluid rounded-3"
            />
          </div>
          <div class="col-12 col-md-4">
            <img
              src="https://images.unsplash.com/photo-1532465989240-a53112c31aba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=3227c91f71facd3a64e91cb7e346cb17&auto=format&fit=crop&w=1450&q=50&h=825"
              class="img-fluid rounded-3"
            />
          </div>
        </div>
      </div>
    </div>

    <div id="surat">
      <div class="card-img-overlay d-flex">
        <div class="my-auto mx-auto text-center text-white">
          <div class="container">
            <h4 class="mb-5 fw-normal">
              "Dan di antara tanda-tanda kekuasaan-Nya diciptakan-Nya untukmu
              pasangan hidup dari jenismu sendiri supaya kamu dapat ketenangan
              hati dan dijadikannya kasih sayang di antara kamu. Sesungguhnya
              yang demikian menjadi tanda-tanda kebesaran-Nya bagi orang-orang
              yang berpikir."
            </h4>
            <h2>- Q.S. Ar-Rum: 21 -</h2>
          </div>
        </div>
      </div>
    </div>

    <div id="resepsi" class="p-5 pb-0">
      <div class="container">
        <!-- Countdown -->
        <div class="row">
          <div class="col-12 text-center mt-5">
            <h6 class="text-white resepsi-tag">Hari spesial</h6>
            <h2 class="mt-3 text-white resepsi-judul">Pernikahan Kita</h2>
            <div class="d-flex justify-content-center mt-5 countdown">
              <div class="hari mx-3 bg-white p-3 rounded-3">
                <h1 id="hari">0</h1>
                <p>hari</p>
              </div>
              <div class="jam mx-3 bg-white p-3 rounded-3">
                <h1 id="jam">0</h1>
                <p>jam</p>
              </div>
              <div class="menit mx-3 bg-white p-3 rounded-3">
                <h1 id="menit">4</h1>
                <p>menit</p>
              </div>
              <div class="detik mx-3 bg-white p-3 rounded-3">
                <h1 id="detik">0</h1>
                <p>detik</p>
              </div>
            </div>
          </div>
        </div>

        <div class="row tgl-nikah">
          <div
            class="col-12 col-md-5 text-center mt-5 bg-white p-3 rounded-3 card_top"
          >
            <h5 class="mt-3">Akad Nikah</h5>
            <div class="row mt-5">
              <div class="col-6">
                <i class="fas fa-calendar"></i>
                <p>20 Maret 2022</p>
              </div>
              <div class="col-6">
                <i class="fas fa-clock"></i>
                <p>07:30 WIB</p>
              </div>
              <div class="col-12">
                <i class="fas fa-map-marker-alt"></i>
                <p>Masjid Al Mabrur Embarkasi Haji</p>
              </div>
            </div>
          </div>
          <!--  -->
          <div
            class="col-12 col-md-5 offset-md-2 text-center mt-5 bg-white p-3 rounded-3 card_top"
          >
            <h5 class="mt-3">Resepsi</h5>
            <div class="row mt-5">
              <div class="col-6">
                <i class="fas fa-calendar"></i>
                <p>27 Maret 2022</p>
              </div>
              <div class="col-6">
                <i class="fas fa-clock"></i>
                <p>09:00 WIB</p>
              </div>
              <div class="col-12">
                <i class="fas fa-map-marker-alt"></i>
                <p>Gedung Serba Guna H.M Rois</p>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-6 offset-md-3 p-0">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5594.136076652455!2d110.79073135232025!3d-7.503664630054882!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7a1334102f2bad%3A0x29a3900d93eb51f5!2sGedung%20Serba%20Guna%20Bani%20Rais!5e0!3m2!1sen!2sid!4v1647421567286!5m2!1sen!2sid"
              width="100%"
              height="400"
              allowfullscreen=""
              loading="lazy"
              class="mt-5 rounded-3"
            ></iframe>
          </div>
        </div>

        <span class="d-flex justify-content-center">
          <object data="separator/3.svg" width="400"></object>
        </span>
      </div>
    </div>

    <div class="wave-container">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 220">
        <path
          fill="#f0dcdc"
          fill-opacity="1"
          d="M0,128L80,144C160,160,320,192,480,186.7C640,181,800,139,960,133.3C1120,128,1280,160,1360,176L1440,192L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"
        ></path>
      </svg>
    </div>

    <div id="pesan" class="p-5">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center mt-5">
            <h6 class="text-white">Kirimkan pesan</h6>
            <h2 class="mt-3 text-white pesan-judul">Untuk Kami berdua</h2>
          </div>
          <form class="needs-validation" novalidate id="form-pesan">
            <div class="col-12 col-md-6 offset-md-3 mt-5">
              <div class="mb-3">
                <label for="nama" class="form-label">Nama</label>
                <input type="text" class="form-control" id="nama" required />
              </div>
              <div class="mb-3">
                <label for="isi" class="form-label">Pesan</label>
                <textarea class="form-control" id="isi" rows="3" required></textarea>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="kehadiran"
                  id="hadir"
                  value="1"
                  required
                />
                <label class="form-check-label" for="hadir"> Hadir </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="kehadiran"
                  id="tidakHadir"
                  value="0"
                  required
                />
                <label class="form-check-label" for="tidakHadir">
                  Tidak hadir
                </label>
              </div>
              <div class="mt-3">
                <button id="kirim" class="btn btn-primary w-100">Kirim</button>
              </div>
          </form>

            <!-- chat box -->
            <div class="chatbox overflow-auto mt-3 p-3 rounded-3">
              <div id="chat"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="bottom">
      <div id="footer" class="d-flex">
        <div class="card-img-overlay d-flex">
          <div class="my-auto mx-auto text-center text-white lh-1">
            <object data="svg/bird.svg" width="100"></object>
            <h1 class="my-3">Rais & Mala</h1>
            <br>
          </div>
        </div>
      </div>
      
    </div>


    <!-- jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- aos js -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- AddEvent script -->
    <script type="text/javascript" src="https://cdn.addevent.com/libs/atc/1.6.1/atc.min.js" async defer></script>

    <!-- inisialisasi aos -->
    <!-- <script>
      AOS.init();
    </script> -->


    <!-- AddEvent Settings -->
    <script type="text/javascript">
      window.addeventasync = function(){
          addeventatc.settings({
              appleical  : {show:true, text:"Apple Calendar"},
              google     : {show:true, text:"Google <em>(online)</em>"},
              office365  : {show:true, text:"Office 365 <em>(online)</em>"},
              outlook    : {show:true, text:"Outlook"},
              outlookcom : {show:true, text:"Outlook.com <em>(online)</em>"},
              yahoo      : {show:true, text:"Yahoo <em>(online)</em>"}
          });
      };
      </script>


    <!-- custom js -->
    <script>
       fetch('./pesan.json')
        .then(response => response.json())
        .then(data=>{
          data.forEach((item) =>{
            document.querySelector('#chat').innerHTML += `
            <div class="chat">
              <div class="card mb-3">
                <div class="card-body">
                  <h5 class="card-title fs-6">
                    ${item.nama}
                    <span class="badge badge-sm rounded-pill ${item.is_hadir == '1' ? 'bg-success' : 'bg-danger'}"
                      >${item.is_hadir == '1' ? '<i class="fas fa-check"> </i>' : '<i class="fa fa-times"> </i>'}</span
                    >
                  </h5>

                  <p class="card-text text-muted">
                    ${item.pesan}
                  </p>
                </div>
              </div>
            </div>
            `
          })
        });
    </script>

    <script>
      // Set the date we're counting down to
      var countDownDate = new Date("Mar 27, 2022 09:00:00").getTime();

      // Update the count down every 1 second
      var x = setInterval(function () {
        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Output the result in an element with id="countdown"
        document.getElementById("hari").innerHTML = days;
        document.getElementById("jam").innerHTML = hours;
        document.getElementById("menit").innerHTML = minutes;
        document.getElementById("detik").innerHTML = seconds;

      }, 1000);
    </script>

    <!-- Fetch pesan -->
    <script>
      $(document).ready(function(){        

        $('#form-pesan').submit(function(e){
          e.preventDefault();
        });

        $('#kirim').on('click', function(){
          let nama = $.trim($('#nama').val());
          let isi = $.trim($("#isi").val());
          let is_hadir =  parseInt($('input[name=kehadiran]:checked').val());
          let date = new Date();
          if(nama == '' || pesan == '' || is_hadir == NaN){
            // error
          } else {
            $.ajax({
              url: 'simpan.php',
              type: 'POST',
              data: {
                nama: nama,
                pesan: isi,
                is_hadir: is_hadir
              },
              success: function(data){
                let item = JSON.parse(data);
                document.querySelector('#chat').innerHTML += `
                <div class="chat">
                  <div class="card mb-3">
                    <div class="card-body">
                      <h5 class="card-title fs-6">
                        ${item[0].nama}
                        <span class="badge badge-sm rounded-pill ${item[0].is_hadir == '1' ? 'bg-success' : 'bg-danger'}"
                          >${item[0].is_hadir == '1' ? '<i class="fas fa-check"> </i>' : 'tidak'}</span
                        >
                      </h5>

                      <p class="card-text text-muted">
                        ${item[0].pesan}
                      </p>
                    </div>
                  </div>
                </div>
              `
              $('#form-pesan')[0].reset();
              }
            })
            
          }
        })
      })
    </script>
  </body>
</html>
